<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pulse.earth - Dashboard Planetaire</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <script src="script.js" defer></script>
</head>
<body>
    <div class="dashboard-container">
        <div class="section extinction-section">
            <h1 class="extinction-title">PULSE.EARTH</h1>
            <div class="geopolitical-summary">
                <div class="date-section">
                    <button class="calendar-btn" id="calendar-btn" onclick="openCalendar()">
                        <span class="calendar-icon">üìÖ</span>
                        <span class="calendar-date" id="calendar-date"></span>
                    </button>
                </div>
                <div class="summary-section">
                    <div class="summary-text">
                        En octobre 2025, le monde est marqu√© par une multipolarit√© croissante et des tensions g√©opolitiques. Au Moyen-Orient, un fragile cessez-le-feu Isra√´l-Hamas coexiste avec des risques d'escalade post-frappes isra√©liennes sur l'Iran, tandis que la Syrie post-Assad organise ses premi√®res √©lections. En Ukraine, la guerre s'enlise face √† une Russie agressive, avec une Europe en r√©armement (Pologne √† 4,7 % du PIB) et des menaces hybrides (drones, cyber). Les √âtats-Unis de Trump poussent l'isolationnisme et des deals avec la Chine, qui, avec l'Inde et les BRICS, d√©fie l'ordre dollar-centr√©. √âconomiquement, la croissance mondiale (3,2 %) reste fragile, avec or et Bitcoin comme refuges, tandis que climat et cyber-risques dominent les pr√©occupations globales.
                    </div>
                </div>
                
                <!-- Section Graphique Evolution Stabilit√© -->
                <div class="chart-section">
                    <div class="chart-accordion">
                        <button class="chart-accordion-button active" id="chart-accordion-btn" onclick="toggleChartAccordion()">
                            <span>√âvolution du Score de Stabilit√© Mondiale - Octobre 2025</span>
                            <span class="chart-accordion-icon">‚ñº</span>
                        </button>
                        <div class="chart-accordion-content active" id="chart-accordion-content">
                            <div class="stability-chart-container">
                                <div class="chart-header">
                                    <h3>Score de Stabilit√© Mondiale</h3>
                                    <div class="chart-legend">
                                        <span class="legend-item catastrophe">0-99 Catastrophe mondiale</span>
                                        <span class="legend-item acute-crisis">100-199 Crise aigu√´</span>
                                        <span class="legend-item very-unstable">200-299 Tr√®s instable</span>
                                        <span class="legend-item marked-instability">300-399 Instabilit√© marqu√©e</span>
                                        <span class="legend-item moderate-tensions">400-499 Tensions mod√©r√©es</span>
                                        <span class="legend-item fragile-stability">500-599 Stabilit√© fragile</span>
                                        <span class="legend-item relative-stability">600-699 Stabilit√© relative</span>
                                        <span class="legend-item relative-calm">700-799 Calme relatif</span>
                                        <span class="legend-item stable-peace">800-899 Paix stable</span>
                                        <span class="legend-item global-harmony">900-1000 Harmonie globale</span>
                                    </div>
                                </div>
                                <div class="chart-svg-container" id="stability-chart-svg">
                                    <!-- Le graphique SVG sera g√©n√©r√© ici -->
                                </div>
                                <div class="chart-footer">
                                    <div class="chart-stats" id="chart-stats">
                                        <span>Derni√®re mise √† jour: <span id="last-update">--:--</span></span>
                                        <span>Tendance: <span id="trend-indicator">--</span></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="section global-section">
            <h2 class="section-title">Statut Global</h2>
            <div class="global-stats">
                <div class="stat-item population-clickable" onclick="openPopulationModal()">
                    <div class="stat-value" id="counter">8,251,126,900</div>
                    <div class="stat-label">Population <span class="click-indicator">[LIVE]</span></div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">12</div>
                    <div class="stat-label">Guerres Actives</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">847</div>
                    <div class="stat-label">Ressources Critiques</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">73%</div>
                    <div class="stat-label">Stabilit√© R√©gionale</div>
                </div>
            </div>
        </div>

        <div class="section resources-section">
            <h2 class="section-title">Ressources Energetiques</h2>
            <div class="resource-bar oil-resource-clickable" onclick="openOilDataModal()">
                <div class="resource-label">
                    <span>Petrole</span>
                    <span>45%</span>
                </div>
                <div class="resource-progress">
                    <div class="resource-fill oil-fill"></div>
                </div>
            </div>
            <div class="resource-bar">
                <div class="resource-label">
                    <span>Gaz Naturel</span>
                    <span>62%</span>
                </div>
                <div class="resource-progress">
                    <div class="resource-fill gas-fill"></div>
                </div>
            </div>
            <div class="resource-bar">
                <div class="resource-label">
                    <span>Eau Douce</span>
                    <span>78%</span>
                </div>
                <div class="resource-progress">
                    <div class="resource-fill water-fill"></div>
                </div>
            </div>
        </div>

        <div class="section climate-section">
            <h2 class="section-title">Etat Climatique</h2>
            <div class="climate-indicator">
                <div class="stat-label">Anomalie Temp√©rature</div>
                <div class="temp-display">+1.8¬∞C</div>
            </div>
        </div>

        <div class="section conflicts-section">
            <div class="conflict-subsection">
                <h3 class="section-title">Conflits</h3>
                <div class="conflict-counter">12</div>
                <div class="stat-label">Guerres Actives</div>
                <div class="conflict-counter">47</div>
                <div class="stat-label">Tensions Internes</div>
            </div>
            <div class="conflict-subsection">
                <h3 class="section-title">‚ò¢Ô∏è Risques Tech</h3>
            </div>
        </div>

        <div class="section health-section">
                        <h2 class="section-title">Sante Publique</h2>
            <div class="stat-item">
                <div class="stat-value">2</div>
                <div class="stat-label">Pand√©mies Actives</div>
            </div>
            <div class="stat-item">
                <div class="stat-value">84%</div>
                <div class="stat-label">R√©silience Infrastructure</div>
            </div>
        </div>
    </div>

    <!-- Modale Population Live -->
    <div id="population-modal" class="modal-overlay">
        <div class="modal-content population-modal">
            <div class="modal-header">
                <h3>Population Mondiale en Temps Reel</h3>
                <button class="modal-close" onclick="closePopulationModal()">√ó</button>
            </div>
            <div class="modal-body">
                <div class="counter-section">
                    <div class="counter-display">
                        <div class="counter-value" id="modal-counter">8,251,126,900</div>
                        <div class="counter-label">Population mondiale actuelle</div>
                        <div class="counter-info">Mis a jour en temps reel</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modale Credits -->
    <div id="credits-modal" class="modal-overlay">
        <div class="modal-content credits-modal">
            <div class="modal-header">
                <h3>Credits</h3>
                <button class="modal-close" onclick="closeCreditsModal()">√ó</button>
            </div>
            <div class="modal-body">
                <div class="credits-section">
                    <h4>Audio</h4>
                    <div class="credit-item">
                        <a href="http://freesound.org/people/qubodup/sounds/212025" target="_blank">Sci-fi Laboratory Ambience</a> by <a href="http://freesound.org/people/qubodup" target="_blank">Iwan Gabovitch</a> under <a href="http://creativecommons.org/licenses/by/3.0/legalcode" target="_blank">CC-BY 3.0 License</a> with sounds by wolick, swiftoid, Diboz
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modale Calendrier -->
    <div id="calendar-modal" class="modal-overlay">
        <div class="modal-content calendar-modal">
            <div class="modal-header">
                <h3>S√©lectionnez une date</h3>
                <button class="modal-close" onclick="closeCalendar()">√ó</button>
            </div>
            <div class="modal-body">
                <div class="calendar-container">
                    <div class="calendar-header">
                        <button class="calendar-nav" onclick="previousMonth()">‚Äπ</button>
                        <span class="calendar-month-year" id="calendar-month-year"></span>
                        <button class="calendar-nav" onclick="nextMonth()">‚Ä∫</button>
                    </div>
                    <div class="calendar-grid" id="calendar-grid">
                        <!-- G√©n√©r√© dynamiquement par JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modale de Contenu Quotidien -->
    <div id="daily-content-modal" class="modal-overlay">
        <div class="modal-content daily-content-modal">
            <div class="modal-header">
                <h3 id="daily-modal-title">Actualit√©s du jour</h3>
                <button class="modal-close" onclick="closeDailyContent()">√ó</button>
            </div>
            <div class="modal-body daily-modal-body">
                <!-- Score de stabilit√© -->
                <div class="stability-section">
                    <div class="stability-header">
                        <span class="stability-label">Score de Stabilit√©</span>
                        <div class="stability-score" id="stability-score" onmouseover="showStabilityTooltip()" onmouseout="hideStabilityTooltip()">
                            <span class="score-value" id="score-value">450</span>
                            <span class="score-max">/ 1000</span>
                        </div>
                    </div>
                    <div class="stability-tooltip" id="stability-tooltip">
                        <div class="tooltip-content" id="tooltip-content">
                            <h4>Justification du Score de Stabilit√©</h4>
                            <div id="tooltip-text">
                                Justification du score en cours de chargement...
                            </div>
                            <div style="text-align: center; margin-top: 15px;">
                                <button onclick="hideStabilityTooltip()" style="background: #00ffff; color: #000; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; font-weight: bold;">Fermer</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- R√©sum√© du jour -->
                <div class="daily-summary-section">
                    <h4>R√©sum√© du jour</h4>
                    <div class="summary-text" id="daily-summary-text">
                        R√©sum√© en cours de chargement...
                    </div>
                </div>

                <!-- Accord√©on r√©sum√© complet -->
                <div class="accordion-section">
                    <button class="accordion-button" id="accordion-btn" onclick="toggleAccordion()">
                        <span>Afficher le r√©sum√© complet</span>
                        <span class="accordion-icon">‚ñº</span>
                    </button>
                    <div class="accordion-content" id="accordion-content">
                        <div class="full-summary" id="full-summary-text">
                            R√©sum√© complet en cours de chargement...
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Overlay pour tooltip de stabilit√© -->
    <div class="tooltip-overlay" id="tooltip-overlay" onclick="hideStabilityTooltip()"></div>

    <!-- Modale donn√©es p√©troli√®res -->
    <div class="modal-overlay" id="oil-data-modal" onclick="closeOilDataModal()">
        <div class="modal-content oil-modal-content" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h3>üõ¢Ô∏è Production P√©troli√®re Mondiale</h3>
                <button class="modal-close-btn" onclick="closeOilDataModal()">√ó</button>
            </div>
            <div class="modal-body">
                <iframe 
                    src="https://ourworldindata.org/grapher/oil-production-by-country?tab=map&time=latest" 
                    loading="lazy" 
                    style="width: 100%; height: 600px; border: 0px none;" 
                    allow="web-share; clipboard-write">
                </iframe>
            </div>
            <div class="modal-footer">
                <p>Donn√©es fournies par <strong>Our World in Data</strong></p>
            </div>
        </div>
    </div>

</body>
</html>