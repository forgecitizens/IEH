<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Accord√©on - IEH</title>
    <style>
        body { 
            background: #1a1a2e; 
            color: white; 
            font-family: Arial, sans-serif; 
            padding: 20px;
        }
        .debug-info {
            background: rgba(0, 255, 0, 0.1);
            border: 1px solid #00ff7f;
            padding: 15px;
            margin: 20px 0;
            border-radius: 8px;
        }
        .continent-card {
            background: rgba(0, 255, 0, 0.08);
            border: 1px solid rgba(0, 255, 0, 0.25);
            border-radius: 12px;
            padding: 18px;
            cursor: pointer;
            margin-bottom: 10px;
        }
        .continent-card:hover {
            background: rgba(0, 255, 0, 0.15);
        }
        .continent-title {
            color: #00ff7f;
            margin: 0;
            display: inline-block;
        }
        .expand-indicator {
            color: #00ff7f;
            float: right;
            font-size: 1.2rem;
        }
        .continent-text {
            color: rgba(255, 255, 255, 0.9);
            padding: 15px 0;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <h1>üîß DEBUG ACCORD√âON IEH</h1>
    
    <div class="debug-info">
        <h3>√âtat du Debug :</h3>
        <p>‚úÖ Script charg√© : <span id="script-status">‚ùå Non</span></p>
        <p>‚úÖ DOM charg√© : <span id="dom-status">‚ùå Non</span></p>
        <p>‚úÖ Fonction disponible : <span id="function-status">‚ùå Non</span></p>
        <p>üîÑ Derni√®re action : <span id="last-action">Aucune</span></p>
    </div>

    <h2>Test des Sections :</h2>
    
    <div class="continent-card" onclick="debugToggle('africa')" title="Cliquez pour tester">
        <h3 class="continent-title">üåç Test Afrique</h3>
        <div class="expand-indicator">‚ñº</div>
        <div class="continent-text" id="africa-text" style="display: none;">
            <p><strong>SUCC√àS !</strong> L'accord√©on fonctionne. Cette section devrait s'afficher et pousser les autres vers le bas.</p>
            <p>Si vous voyez ce texte, l'accord√©on marche parfaitement ! üéâ</p>
        </div>
    </div>

    <div class="continent-card" onclick="debugToggle('asia')" title="Cliquez pour tester">
        <h3 class="continent-title">üèØ Test Asie</h3>
        <div class="expand-indicator">‚ñº</div>
        <div class="continent-text" id="asia-text" style="display: none;">
            <p>Section Asie - Si l'Afrique est ouverte, cette section devrait √™tre pouss√©e vers le bas.</p>
        </div>
    </div>

    <div class="continent-card" onclick="debugToggle('europe')" title="Cliquez pour tester">
        <h3 class="continent-title">üè∞ Test Europe</h3>
        <div class="expand-indicator">‚ñº</div>
        <div class="continent-text" id="europe-text" style="display: none;">
            <p>Section Europe - Test du push vers le bas.</p>
        </div>
    </div>

    <script>
        // Marquer le script comme charg√©
        document.getElementById('script-status').textContent = '‚úÖ Oui';
        
        // Marquer DOM charg√©
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('dom-status').textContent = '‚úÖ Oui';
        });

        // Fonction de debug sp√©cifique
        function debugToggle(id) {
            document.getElementById('last-action').textContent = `Toggle ${id} √† ${new Date().toLocaleTimeString()}`;
            
            console.log('üîß DEBUG - Toggle continent:', id);
            
            // Trouver l'√©l√©ment texte correspondant
            const textElement = document.getElementById(id + '-text');
            if (!textElement) {
                console.error('‚ùå Element not found:', id + '-text');
                document.getElementById('last-action').innerHTML += ' <span style="color:red">‚ùå ERREUR: Element non trouv√©</span>';
                return;
            }
            
            console.log('‚úÖ Element trouv√©:', textElement);
            
            // Trouver l'indicateur d'expansion
            const indicator = textElement.parentElement.querySelector('.expand-indicator');
            console.log('‚úÖ Indicateur trouv√©:', indicator);
            
            // V√©rifier l'√©tat actuel (bas√© sur display style)
            const currentDisplay = textElement.style.display;
            const isVisible = currentDisplay === 'block';
            
            console.log('üìä √âtat actuel - display:', currentDisplay, 'isVisible:', isVisible);
            
            if (isVisible) {
                // Fermer l'accord√©on
                textElement.style.display = 'none';
                textElement.style.opacity = '0';
                textElement.style.marginTop = '0';
                if (indicator) indicator.textContent = '‚ñº';
                console.log('üîΩ Fermeture section:', id);
                document.getElementById('last-action').innerHTML += ' <span style="color:orange">üîΩ FERM√â</span>';
            } else {
                // Ouvrir l'accord√©on
                textElement.style.display = 'block';
                textElement.style.opacity = '1';
                textElement.style.marginTop = '15px';
                if (indicator) indicator.textContent = '‚ñ≤';
                console.log('üîº Ouverture section:', id);
                document.getElementById('last-action').innerHTML += ' <span style="color:green">üîº OUVERT</span>';
            }
        }
        
        // V√©rifier que la fonction est disponible
        if (typeof debugToggle === 'function') {
            document.getElementById('function-status').textContent = '‚úÖ Oui';
        }
        
        console.log('üöÄ Debug page loaded - ready to test!');
    </script>
</body>
</html>